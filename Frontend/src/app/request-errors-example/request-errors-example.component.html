<div class="container" xmlns="http://www.w3.org/1999/html">
  <app-title title="Простые ошибки в запросах"></app-title>
  <div class="row">
    <i>
      <p>
        При нажатии на каждую кнопку посылается сетевой запрос.
        Ошибки могут быть как на фронтенде, так и на бэкенде.
        Почините все запросы.
      </p>
      <p>
        Чтобы проследить сетевой запрос, откройте панель отладки в браузере (F12) и перейдите на вкладку Сеть (Network).
        Затем повторно нажмите на кнопку, инициирующую запрос. Новый запрос добавится в конец списка.
        Можно предварительно очистить список запросов, нажав кнопку в углу панели.
        Чтобы открыть подробности запроса, нажмите на него.
      </p>
      <p>
        На бэкенде используйте режим отладки. Для этого установите точку остановки на нужной строке,
        щёлкнув на полях, и запустите бэкенд в режиме отладки, нажав на жучка.
        Используйте кнопки "Шаг с заходом" ("Step Into") и "Шаг с обходом" ("Step Over").
        Наводите мышку на разные переменные, чтобы увидеть их текущие значения.
      </p>
    </i>
  </div>
  <table [formGroup]="form">
    @for (actionForm of arithmeticActions; track actionForm.get('buttonTitle')!.value) {
      <tr [formGroup]="actionForm">
        <td>
          <input type="number" formControlName="firstNumber"/>
        </td>
        <td>
          <input type="number" formControlName="secondNumber"/>
        </td>
        <td class="d-flex justify-content-center">
          <div class="btn align-self-center m-2"
               (click)="actionForm.valid ? actionForm.get('action')!.value(actionForm) : $event.stopPropagation()"
               [class.disabled]="!actionForm.valid">
            {{ actionForm.get('buttonTitle')!.value }}
          </div>
        </td>
        <td>
          <input type="number" formControlName="result">
        </td>
      </tr>
    }
  </table>
</div>
