<div [formGroup]="form()">
  <div class="row">
    <div class="col-12">
      @if (!isRoot()) {
        <span [innerHTML]="tabs"></span>
        <mat-form-field class="mat-field">
          <mat-label>Название поля</mat-label>
          <input matInput type="text" formControlName="fieldName">
        </mat-form-field>
      }
      <mat-form-field class="mat-field">
        <mat-label>Тип поля</mat-label>
        <mat-select formControlName="fieldType">
          <mat-option [value]="FieldType.boolean">boolean</mat-option>
          <mat-option [value]="FieldType.number">number</mat-option>
          <mat-option [value]="FieldType.string">string</mat-option>
          <mat-option [value]="FieldType.null">null</mat-option>
          <mat-option [value]="FieldType.object">object</mat-option>
          <mat-option [value]="FieldType.list">list</mat-option>
        </mat-select>
      </mat-form-field>
      @if (fieldType === FieldType.boolean) {
        <mat-form-field class="mat-field">
          <mat-label>Значение поля</mat-label>
          <mat-select formControlName="fieldValue" class="wide-input">
            <mat-option [value]="true">true</mat-option>
            <mat-option [value]="false">false</mat-option>
          </mat-select>
        </mat-form-field>
      } @else if (fieldType === FieldType.number) {
        <mat-form-field class="mat-field">
          <mat-label>Значение поля</mat-label>
          <input matInput type="number" formControlName="fieldValue" class="wide-input">
        </mat-form-field>
      } @else if (fieldType === FieldType.string) {
        <mat-form-field class="mat-field">
          <mat-label>Значение поля</mat-label>
          <input matInput type="text" formControlName="fieldValue" class="wide-input">
        </mat-form-field>
      } @else if (fieldType === FieldType.null) {
        <mat-form-field class="mat-field">
          <mat-label>Значение поля</mat-label>
          <input matInput type="text" [value]="'null'" disabled class="wide-input">
        </mat-form-field>
      }
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      @if (fieldType === FieldType.object) {
        @for (fieldKey of Object.keys(objectInnerFields); track fieldKey) {
          <app-json-field [isRoot]="false"
                          [nestingLevel]="nestingLevel() + 1"
                          [form]="getObjectInnerField(fieldKey)">
          </app-json-field>
        }
      }
    </div>
  </div>
</div>
